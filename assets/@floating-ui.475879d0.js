function S(t){return t.split("-")[0]}function B(t){return t.split("-")[1]}function M(t){return["top","bottom"].includes(S(t))?"x":"y"}function K(t){return t==="y"?"height":"width"}function U(t,n,e){let{reference:i,floating:o}=t;const c=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,r=M(n),l=K(r),f=i[l]/2-o[l]/2,h=S(n),a=r==="x";let u;switch(h){case"top":u={x:c,y:i.y-o.height};break;case"bottom":u={x:c,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:s};break;case"left":u={x:i.x-o.width,y:s};break;default:u={x:i.x,y:i.y}}switch(B(n)){case"start":u[r]-=f*(e&&a?-1:1);break;case"end":u[r]+=f*(e&&a?-1:1);break}return u}const rt=async(t,n,e)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:s}=e,r=c.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(n));{if(s==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),r.filter(p=>{let{name:x}=p;return x==="autoPlacement"||x==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!t||!n)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let f=await s.getElementRects({reference:t,floating:n,strategy:o}),{x:h,y:a}=U(f,i,l),u=i,d={},g=0;for(let p=0;p<r.length;p++){const{name:x,fn:H}=r[p],{x:P,y:C,data:L,reset:w}=await H({x:h,y:a,initialPlacement:i,placement:u,strategy:o,middlewareData:d,rects:f,platform:s,elements:{reference:t,floating:n}});if(h=P!=null?P:h,a=C!=null?C:a,d={...d,[x]:{...d[x],...L}},g>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),w&&g<=50){g++,typeof w=="object"&&(w.placement&&(u=w.placement),w.rects&&(f=w.rects===!0?await s.getElementRects({reference:t,floating:n,strategy:o}):w.rects),{x:h,y:a}=U(f,u,l)),p=-1;continue}}return{x:h,y:a,placement:u,strategy:o,middlewareData:d}};function st(t){return{top:0,right:0,bottom:0,left:0,...t}}function ct(t){return typeof t!="number"?st(t):{top:t,right:t,bottom:t,left:t}}function X(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const lt=Math.min,ft=Math.max;function at(t,n,e){return ft(t,lt(n,e))}const Rt=t=>({name:"arrow",options:t,async fn(n){const{element:e,padding:i=0}=t!=null?t:{},{x:o,y:c,placement:s,rects:r,platform:l}=n;if(e==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const f=ct(i),h={x:o,y:c},a=M(s),u=B(s),d=K(a),g=await l.getDimensions(e),p=a==="y"?"top":"left",x=a==="y"?"bottom":"right",H=r.reference[d]+r.reference[a]-h[a]-r.floating[d],P=h[a]-r.reference[a],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(e));let L=C?a==="y"?C.clientHeight||0:C.clientWidth||0:0;L===0&&(L=r.floating[d]);const w=H/2-P/2,N=f[p],I=L-g[d]-f[x],R=L/2-g[d]/2+w,F=at(N,R,I),it=(u==="start"?f[p]:f[x])>0&&R!==F&&r.reference[d]<=r.floating[d]?R<N?N-R:I-R:0;return{[a]:h[a]-it,data:{[a]:F,centerOffset:R-F}}}});async function ut(t,n){const{placement:e,platform:i,elements:o}=t,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),s=S(e),r=B(e),l=M(e)==="x",f=["left","top"].includes(s)?-1:1,h=c&&l?-1:1,a=typeof n=="function"?n(t):n;let{mainAxis:u,crossAxis:d,alignmentAxis:g}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return r&&typeof g=="number"&&(d=r==="end"?g*-1:g),l?{x:d*h,y:u*f}:{x:u*f,y:d*h}}const Ot=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){const{x:e,y:i}=n,o=await ut(n,t);return{x:e+o.x,y:i+o.y,data:o}}}};function Q(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function y(t){if(t==null)return window;if(!Q(t)){const n=t.ownerDocument;return n&&n.defaultView||window}return t}function b(t){return y(t).getComputedStyle(t)}function v(t){return Q(t)?"":t?(t.nodeName||"").toLowerCase():""}function Z(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(n=>n.brand+"/"+n.version).join(" "):navigator.userAgent}function m(t){return t instanceof y(t).HTMLElement}function O(t){return t instanceof y(t).Element}function dt(t){return t instanceof y(t).Node}function _(t){if(typeof ShadowRoot=="undefined")return!1;const n=y(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function W(t){const{overflow:n,overflowX:e,overflowY:i,display:o}=b(t);return/auto|scroll|overlay|hidden/.test(n+i+e)&&!["inline","contents"].includes(o)}function ht(t){return["table","td","th"].includes(v(t))}function $(t){const n=/firefox/i.test(Z()),e=b(t),i=e.backdropFilter||e.WebkitBackdropFilter;return e.transform!=="none"||e.perspective!=="none"||(i?i!=="none":!1)||n&&e.willChange==="filter"||n&&(e.filter?e.filter!=="none":!1)||["transform","perspective"].some(o=>e.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const c=e.contain;return c!=null?c.includes(o):!1})}function tt(){return!/^((?!chrome|android).)*safari/i.test(Z())}function j(t){return["html","body","#document"].includes(v(t))}const Y=Math.min,E=Math.max,V=Math.round;function A(t,n,e){var i,o,c,s;n===void 0&&(n=!1),e===void 0&&(e=!1);const r=t.getBoundingClientRect();let l=1,f=1;n&&m(t)&&(l=t.offsetWidth>0&&V(r.width)/t.offsetWidth||1,f=t.offsetHeight>0&&V(r.height)/t.offsetHeight||1);const h=O(t)?y(t):window,a=!tt()&&e,u=(r.left+(a&&(i=(o=h.visualViewport)==null?void 0:o.offsetLeft)!=null?i:0))/l,d=(r.top+(a&&(c=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?c:0))/f,g=r.width/l,p=r.height/f;return{width:g,height:p,top:d,right:u+g,bottom:d+p,left:u,x:u,y:d}}function T(t){return((dt(t)?t.ownerDocument:t.document)||window.document).documentElement}function k(t){return O(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nt(t){return A(T(t)).left+k(t).scrollLeft}function gt(t){const n=A(t);return V(n.width)!==t.offsetWidth||V(n.height)!==t.offsetHeight}function pt(t,n,e){const i=m(n),o=T(n),c=A(t,i&&gt(n),e==="fixed");let s={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if(i||!i&&e!=="fixed")if((v(n)!=="body"||W(o))&&(s=k(n)),m(n)){const l=A(n,!0);r.x=l.x+n.clientLeft,r.y=l.y+n.clientTop}else o&&(r.x=nt(o));return{x:c.left+s.scrollLeft-r.x,y:c.top+s.scrollTop-r.y,width:c.width,height:c.height}}function D(t){if(v(t)==="html")return t;const n=t.assignedSlot||t.parentNode||(_(t)?t.host:null)||T(t);return _(n)?n.host:n}function z(t){return!m(t)||b(t).position==="fixed"?null:t.offsetParent}function wt(t){let n=D(t);for(;m(n)&&!j(n);){if($(n))return n;n=D(n)}return null}function q(t){const n=y(t);let e=z(t);for(;e&&ht(e)&&b(e).position==="static";)e=z(e);return e&&(v(e)==="html"||v(e)==="body"&&b(e).position==="static"&&!$(e))?n:e||wt(t)||n}function G(t){if(m(t))return{width:t.offsetWidth,height:t.offsetHeight};const n=A(t);return{width:n.width,height:n.height}}function mt(t){let{rect:n,offsetParent:e,strategy:i}=t;const o=m(e),c=T(e);if(e===c)return n;let s={scrollLeft:0,scrollTop:0};const r={x:0,y:0};if((o||!o&&i!=="fixed")&&((v(e)!=="body"||W(c))&&(s=k(e)),m(e))){const l=A(e,!0);r.x=l.x+e.clientLeft,r.y=l.y+e.clientTop}return{...n,x:n.x-s.scrollLeft+r.x,y:n.y-s.scrollTop+r.y}}function yt(t,n){const e=y(t),i=T(t),o=e.visualViewport;let c=i.clientWidth,s=i.clientHeight,r=0,l=0;if(o){c=o.width,s=o.height;const f=tt();(f||!f&&n==="fixed")&&(r=o.offsetLeft,l=o.offsetTop)}return{width:c,height:s,x:r,y:l}}function xt(t){var n;const e=T(t),i=k(t),o=(n=t.ownerDocument)==null?void 0:n.body,c=E(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=E(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let r=-i.scrollLeft+nt(t);const l=-i.scrollTop;return b(o||e).direction==="rtl"&&(r+=E(e.clientWidth,o?o.clientWidth:0)-c),{width:c,height:s,x:r,y:l}}function et(t){const n=D(t);return j(n)?t.ownerDocument.body:m(n)&&W(n)?n:et(n)}function ot(t,n){var e;n===void 0&&(n=[]);const i=et(t),o=i===((e=t.ownerDocument)==null?void 0:e.body),c=y(i),s=o?[c].concat(c.visualViewport||[],W(i)?i:[]):i,r=n.concat(s);return o?r:r.concat(ot(s))}function bt(t,n){const e=A(t,!1,n==="fixed"),i=e.top+t.clientTop,o=e.left+t.clientLeft;return{top:i,left:o,x:o,y:i,right:o+t.clientWidth,bottom:i+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function J(t,n,e){return n==="viewport"?X(yt(t,e)):O(n)?bt(n,e):X(xt(T(t)))}function vt(t){let n=ot(t).filter(o=>O(o)&&v(o)!=="body"),e=t,i=null;for(;O(e)&&!j(e);){const o=b(e);o.position==="static"&&i&&["absolute","fixed"].includes(i.position)&&!$(e)?n=n.filter(c=>c!==e):i=o,e=D(e)}return n}function Tt(t){let{element:n,boundary:e,rootBoundary:i,strategy:o}=t;const s=[...e==="clippingAncestors"?vt(n):[].concat(e),i],r=s[0],l=s.reduce((f,h)=>{const a=J(n,h,o);return f.top=E(a.top,f.top),f.right=Y(a.right,f.right),f.bottom=Y(a.bottom,f.bottom),f.left=E(a.left,f.left),f},J(n,r,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const At={getClippingRect:Tt,convertOffsetParentRelativeRectToViewportRelativeRect:mt,isElement:O,getDimensions:G,getOffsetParent:q,getDocumentElement:T,getElementRects:t=>{let{reference:n,floating:e,strategy:i}=t;return{reference:pt(n,q(e),i),floating:{...G(e),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>b(t).direction==="rtl"},Et=(t,n,e)=>rt(t,n,{platform:At,...e});export{Rt as a,Et as c,Ot as o};
